<style>
  .banner_link {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}
</style>
 
   <div class="container banepad">
     <div class="swiper swiperban section-slideshow">
        <div class="swiper-wrapper">
               {%- for block in section.blocks -%}
                 <div class="swiper-slide">
                   <a class="banner_link" href="{{ block.settings.link }}"></a>
              <div class="rimage-wrapper">
    <img class="image desktop-only notlazy" loading="eager" src="{{ block.settings.slideimg | img_url:'master' }}" fetchpriority="high"   height="{{  block.settings.slideimg.height }}" width="{{ block.settings.slideimg.width }}" />
              </div>
                   <div class="rimage-wrapper">
    <img class="image mobile-only notlazy" loading="eager" src="{{ block.settings.mobile_image | img_url: 'master' }}" fetchpriority="high" srcset="{{ block.settings.mobile_image | img_url: '1024x1024' }}"  height="{{  block.settings.slideimg.height }}" 
        width="{{ block.settings.slideimg.width }}"/>
              </div>
                   </div>
               {%- endfor -%}
        </div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
       
           <div class="swiper-pagination"></div>
     
   </div>
    </div>
<script>
  const swiperban = new Swiper('.swiperban', {
  // Optional parameters
  direction: 'horizontal',
  loop: true,
  slidesPerView: 1,
  spaceBetween: 20, 
     autoplay: {
  autoplay: 5000,
    speed: 2000,
   disableOnInteraction: false,
 },

  // If we need pagination
  pagination: {
    el: '.swiper-pagination',
  },

  // Navigation arrows
  navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev',
  },

  // And if we need scrollbar
  scrollbar: {
    el: '.swiper-scrollbar',
  },
  // Responsive breakpoints
  breakpoints: {
    640: {
      slidesPerView: 1.25,
      spaceBetween: 20
    },
    1024: {
      slidesPerView: 1,
      spaceBetween: 20
    }
  }
});
  //  document.addEventListener("DOMContentLoaded", function() {
  //   // Get the elements with the specified class
  //   var images = document.getElementsByClassName("notlazy");

  //   // Check if there are any elements with the class
  //   if (images.length > 0) {
  //     // Access the first element in the collection and set the loading attribute
  //     images[0].setAttribute("loading", "eager");
  //   }
  // }); 
</script>


{% schema %}
  {
    "name": "Slideshow New",
    "class": "section-slideshow",
    "max_blocks": 8,
    "settings": [
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Slide",
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "Image Link"
          },
          {
            "type": "image_picker",
            "id": "slideimg",
            "label": "Image",
            "info": "2048 x 1024px recommended"
          },
          {
            "type": "image_picker",
            "id": "mobile_image",
            "label": "Mobile image",
            "info": "1024px x 1024px recommended"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Slideshow New",
        "settings": {
        },
        "blocks": [
          {
            "type": "image"
          },
          {
            "type": "image"
          }
        ]
      }
    ]
  }
{% endschema %}